# دليل المجلد: stations

## وصف المجلد
المجلد `stations` يحتوي على المحطات السبع (Seven Stations) التي تشكل نواة نظام التحليل الدرامي. كل محطة متخصصة في تحليل جانب معين من النص الدرامي، مع تجميع النتائج في تقرير شامل.

## قائمة الملفات ووظائفها

### 1. base-station.js
- **الوصف**: الفئة الأساسية التي تحدد واجهة المحطة.
- **الوظائف الرئيسية**:
  - تهيئة المحطة
  - تنفيذ منطق المحطة الأساسي
  - تطبيق الفحص الدستوري
  - تطبيق قياس عدم اليقين
  - إنشاء البيانات الوصفية النهائية

### 2. gemini-service.js
- **الوصف**: خدمة تفاعل مع نموذج Gemini.
- **الوظائف الرئيسية**:
  - إنشاء مثيل للخدمة
  - توليد محتوى باستخدام نموذج Gemini
  - إدارة التخزين المؤقت
  - إدارة الحد من معدل الطلبات
  - تقدير استخدام التوكنات

### 3. station1-text-analysis.js
- **الوصف**: المحطة الأولى: تحليل النص.
- **الوظائف الرئيسية**:
  - توليد خط القصة (logline)
  - تحديد الشخصيات الرئيسية
  - تحليل الشخصيات في العمق
  - تحليل الحوار
  - تحليل الأصوات
  - تحليل النبرة السردية
  - حساب إحصائيات النص

### 4. station2-conceptual-analysis.js
- **الوصف**: المحطة الثانية: التحليل المفاهيمي.
- **الوظائف الرئيسية**:
  - توليد بيانات القصة (story statements)
  - إنشاء خريطة ثلاثية الأبعاد (3D Map)
  - توليد عرض مختصر (elevator pitch)
  - تحليل النوع الهجين
  - تحليل الثيمات
  - تحديد الجمهور المستهدف

### 5. station3-network-builder.js
- **الوصف**: المحطة الثالثة: بناء الشبكة.
- **الوظائف الرئيسية**:
  - إنشاء مثيل للشبكة
  - استنتاج العلاقات
  - استنتاج الصراعات
  - تحليل الشبكة
  - تشخيص الشبكة

### 6. station4-efficiency-metrics.js
- **الوصف**: المحطة الرابعة: مقاييس الكفاءة.
- **الوظائف الرئيسية**:
  - حساب مقاييس الكفاءة
  - تقييم الجودة الأدبية
  - تحليل إمكانية الإنتاج
  - تحليل الإيقاع
  - توليد التوصيات

### 7. station5-dynamic-symbolic-stylistic.js
- **الوصف**: المحطة الخامسة: التحليل الديناميكي والرمزي والأسلوبي.
- **الوظائف الرئيسية**:
  - تحليل الأحداث عبر الزمن
  - تحليل تطور الشبكة
  - تتبع تطور الشخصيات
  - تتبع تطور الصراعات
  - تحليل الرموز
  - تحليل الأسلوب

### 8. station6-diagnostics-treatment.js
- **الوصف**: المحطة السادسة: التشخيص والعلاج.
- **الوظائف الرئيسية**:
  - توليد تقرير تشخيصي شامل
  - إجراء نقاش متعدد الوكلاء
  - توليد خطة علاج شاملة
  - توقع مسار الحبكة
  - قياس عدم اليقين الشامل

### 9. station7-finalization.js
- **الوصف**: المحطة السابعة: التجميع النهائي.
- **الوظائف الرئيسية**:
  - توليد تقرير نهائي شامل
  - حساب مصفوفة النتائج
  - توليد ملخص تنفيذي
  - توليد تقييم شامل
  - توليد تحليل SWOT
  - تحليل صدى الجمهور
  - توليد اقتراحات إعادة الكتابة

## ملاحظات خاصة
- كل محطة متخصصة في جانب معين من التحليل الدرامي.
- المحطات تعمل بشكل تسلسلية، مع تمرير النتائج بين المحطات.
- كل محطة تحتوي على آليات لتقييم عدم اليقين في النتائج.
- كل محطة تحتوي على آليات لتطبيق الفحص الدستوري للتأكد من توافق النتائج مع المبادئ الدستورية.
- المحطات تستخدم نموذج Gemini لتوليد المحتوى.
- المحطات تحتوي على آليات لتخزين النتائج في ملفات نصية.

## الاعتماديات
- هذا المجلد يعتمد على المجلدات `core` و`utils` و`constitutional` في المجلد الجذر.
- المحطات تستخدم نموذج Gemini من Google.

## العلاقات مع مجلدات أخرى
- هذا المجلد يعتمد على المجلدات `core` و`utils` و`constitutional` في المجلد الجذر.
- المحطات تستخدم نموذج Gemini من Google.
- المحطات تستخدم الوظائف المساعدة من المجلد `utils`.
- المحطات تستخدم المبادئ الدستورية من المجلد `constitutional`.