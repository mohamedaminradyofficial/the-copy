# دليل المجلد: tests

## وصف المجلد
المجلد `tests` يحتوي على جميع اختبارات المشروع، بما في ذلك اختبارات الوحدة (unit tests) واختبارات النهاية إلى النهاية (end-to-end tests). هذه الاختبارات تضمن جودة الكود وتعملية التطبيق.

## قائمة الملفات ووظائفها

### 1. e2e/
- **الوصف**: يحتوي على اختبارات النهاية إلى النهاية (end-to-end) التي تجرى على التطبيق ككل.
- **الوظائف الرئيسية**:
  - اختبار صفحات التطبيق
  - اختبار التصفح بين الصفحات
  - اختبار الأداء
  - اختبار التوافقية
  - اختبار السيناريوهات الوظيفية

### 2. e2e/accessibility.spec.ts
- **الوصف**: اختبارات التوافقية (accessibility) للتطبيق.
- **الوظائف الرئيسية**:
  - اختبار بنية العنوان
  - اختبار النصوص البديلة للصور
  - اختبار تسميات النماذج

### 3. e2e/functional-scenarios.spec.ts
- **الوصف**: اختبارات السيناريوهات الوظيفية لكل نوع صفحة.
- **الوظائف الرئيسية**:
  - اختبار إنشاء وحفظ مستند قصير في المحرر
  - اختبار تشغيل عملية التحليل على نص قصير
  - اختبار استيراد التحليل وإنشاء بطاقة في التطوير
  - اختبار توليد الأفكار وحفظها في التطوير الإبداعي
  - اختبار تحميل ملف نصي واستخراج العناصر في التجزئة
  - اختبار التفاعل مع المكونات الأساسية في واجهة المستخدم
  - اختبار إنشاء مشروع أو مساحة جديدة

### 4. e2e/homepage.spec.ts
- **الوصف**: اختبارات الصفحة الرئيسية للتطبيق.
- **الوظائف الرئيسية**:
  - اختبار تحميل المحتوى الرئيسي
  - اختبار الاستجابة على الأجهزة المحمولة
  - اختبار العلامات الوصفية (meta tags)

### 5. e2e/navigation.spec.ts
- **الوصف**: اختبارات التصفح بين الصفحات.
- **الوظائف الرئيسية**:
  - اختبار التصفح بين الصفحات
  - اختبار التعامل مع صفحات 404

### 6. e2e/pages.spec.ts
- **الوصف**: اختبارات النهاية إلى النهاية لجميع الصفحات مع التقاطات الشاشة (screenshots) وملفات HAR.
- **الوظائف الرئيسية**:
  - اختبار تحميل الصفحات بنجاح
  - التقاط شاشات لكل صفحة
  - تسجيل نشاط الشبكة (HAR files)
  - تسجيل الصفحات المكتشفة

### 7. e2e/performance.spec.ts
- **الوصف**: اختبارات الأداء للتطبيق.
- **الوظائف الرئيسية**:
  - اختبار تحقيق معايير Core Web Vitals
  - اختبار تحميل الصفحات في وقت مقبول

### 8. unit/
- **الوصف**: يحتوي على اختبارات الوحدة (unit tests) للتطبيق.
- **الوظائف الرئيسية**:
  - اختبار الوظائف الأساسية
  - اختبار المكونات
  - اختبار الخدمات
  - اختبار التفاعل بين الوحدات

### 9. unit/pipeline-validation.test.ts
- **الوصف**: اختبارات وحدة للتحقق من صحة المدخلات في عملية التحليل.
- **الوظائف الرئيسية**:
  - اختبار التحقق من صحة المدخلات
  - اختبار التحويل بين تنسيقات المدخلات
  - اختبار معالجة الأخطاء

### 10. unit/seven-stations.test.ts
- **الوصف**: اختبارات وحدة لنظام المحطات السبع.
- **الوظائف الرئيسية**:
  - اختبار إنشاء مثيل للنظام
  - اختبار تشغيل جميع المحطات
  - اختبار معالجة النص الفارغ
  - اختبار إنتاج نصوص عربية فقط

### 11. pipeline-sequence.test.ts
- **الوصف**: اختبارات تسلسلية لعمليات التحليل.
- **الوظائف الرئيسية**:
  - اختبار تشغيل المحطات في تسلسل صحيح (1→7)
  - اختبار تمرير السياق بين المحطات
  - اختبار إنتاج نصوص عربية فقط
  - اختبار معالجة الأخطاء

### 12. setup.ts
- **الوصف**: إعداد الاختبارات.
- **الوظائف الرئيسية**:
  - إعداد البيئة الاختبارية
  - إعداد التعبيرات الوهمية (mocks)
  - إعداد اختبارات الوحدات

## ملاحظات خاصة
- جميع الاختبارات مكتوبة باستخدام Playwright، وهو إطار عمل اختبار نهاية إلى نهاية.
- الاختبارات تغطي جميع جوانب التطبيق، من الوحدات الفردية إلى التفاعل مع التطبيق ككل.
- يتم تخزين التقاطات الشاشة وملفات HAR في مجلد evidence/YYYY-MM-DD.
- يتم استخدام pages.manifest.json من المجلد `src/config` لتحديد الصفحات التي يجب اختبارها.

## الاعتماديات
- هذا المجلد يعتمد على المجلد `src` لتوفير الكود الذي يتم اختباره.
- يتم استخدام Playwright كإطار عمل للاختبار.

## العلاقات مع مجلدات أخرى
- هذا المجلد يعتمد على المجلد `src` لتوفير الكود الذي يتم اختباره.
- يتم استخدام pages.manifest.json من المجلد `src/config` لتحديد الصفحات التي يجب اختبارها.