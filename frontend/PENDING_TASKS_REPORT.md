# ุชูุฑูุฑ ุงูููุงู ุงููุชุจููุฉ โ ูุง ูู ูุชู ุฅูุฌุงุฒู ุจุนุฏ

**ุงูุชุงุฑูุฎ**: 2025-01-15  
**ุงูุญุงูุฉ**: โ๏ธ ุจุนุถ ุงูููุงู ุชุญุชุงุฌ ุฅูู ุฅููุงู

---

## ููุฎุต ุณุฑูุน

| ุงููููุฉ | ุงูุญุงูุฉ | ุงูุฃููููุฉ |
|--------|--------|----------|
| ุฅุตูุงุญ ุฃุฎุทุงุก Build | โ๏ธ ุฌุฒุฆู | ๐ด ุนุงููุฉ |
| ุชุดุบูู ุงุฎุชุจุงุฑุงุช E2E | โ ูู ูุชู | ๐ ูุชูุณุทุฉ |
| ุฅูุดุงุก Evidence ูุนูู | โ ูู ูุชู | ๐ ูุชูุณุทุฉ |
| ุฅุตูุงุญ ููุน GeminiService | โ ูู ูุชู | ๐ด ุนุงููุฉ |

---

## 1) ุฃุฎุทุงุก Build ุงูุชู ูู ุชูุญู ุจุนุฏ

### ๐ด ุงููุดููุฉ ุงูุฑุฆูุณูุฉ: ููุน GeminiService

**ุงูุฎุทุฃ**:
```
./src/lib/ai/core/base-station.ts:98:5
Type error: Type 'GeminiService' is missing the following properties from type 'GeminiService': 
ai, cache, rateLimitState, CACHE_TTL, and 16 more.
```

**ุงููููุน**: `frontend/src/lib/ai/core/base-station.ts:98`

**ุงูุณุจุจ**:
- ููุฌุฏ ููุนุงู ูุฎุชููุงู ูู `GeminiService`:
  1. `GeminiService` ูู `gemini-service.ts` (ุงูุฃุตูู)
  2. `GeminiService` ูู `stations/gemini-service.ts` (ุงููุญุณูู)
- `BaseStation` ูุณุชูุฑุฏ ุงูููุน ูู `stations/gemini-service.ts`
- ููู `getGeminiService()` ูู `gemini-service.ts` ูุฑุฌุน ุงูููุน ุงูุฃุตูู

**ุงูุญู ุงููุทููุจ**:
```typescript
// ูู base-station.ts
import type { GeminiService } from "../stations/gemini-service";
// ุฃู
import type { GeminiService } from "../gemini-service";
```

**ุฎุทูุงุช ุงูุฅุตูุงุญ**:
1. ุชูุญูุฏ ุงุณุชุฎุฏุงู ููุน `GeminiService` ูู ุฌููุน ุงููููุงุช
2. ุงูุชุฃูุฏ ูู ุฃู `getGeminiService()` ูุฑุฌุน ุงูููุน ุงูุตุญูุญ
3. ุฃู ุชุบููุฑ ุงูุงุณุชูุฑุงุฏ ูู `BaseStation` ููุณุชุฎุฏู ุงูููุน ุงูุตุญูุญ

---

### ๐ก ูุดุงูู TypeScript ุฃุฎุฑู ูุญุชููุฉ

**ูู `network-diagnostics.ts`**:
- ุชู ุฅุตูุงุญ ูุนุธู ุงููุดุงูู
- ูุฏ ุชููู ููุงู ุญุงูุงุช edge cases ูู ุชูุฎุชุจุฑ ุจุนุฏ

**ูู `orchestrator.ts`**:
- ุจุนุถ ุงูุฃุฎุทุงุก ุงููุชุนููุฉ ุจู `Station6DiagnosticsAndTreatment`
- ูุดุงูู ูู ุงุณุชุฏุนุงุกุงุช `execute()` ุงููุญููุฉ

---

## 2) ุงุฎุชุจุงุฑุงุช E2E โ ูู ูุชู ุชุดุบูููุง ูุนููุงู

### โ ูุง ุชู ุฅูุฌุงุฒู:
- โ ุฅูุดุงุก `tests/e2e/pages.spec.ts`
- โ ุฅูุดุงุก `tests/e2e/functional-scenarios.spec.ts`
- โ ุชูููู Playwright ุฌุงูุฒ

### โ ูุง ูู ูุชู ุฅูุฌุงุฒู:
- โ **ุชุดุบูู ุงูุงุฎุชุจุงุฑุงุช ูุนููุงู**:
  ```bash
  npm run e2e  # ูู ูุชู ุงูุชูููุฐ
  ```
- โ **ุงูุชุญูู ูู ูุฌุงุญ ุงูุงุฎุชุจุงุฑุงุช**
- โ **ูุนุงูุฌุฉ ุฃู ุฃุฎุทุงุก ูู ุงูุงุฎุชุจุงุฑุงุช**

**ุงููุทููุจ**:
1. ุชุดุบูู `npm run e2e` ูุงูุชุญูู ูู ุงููุชุงุฆุฌ
2. ุฅุตูุงุญ ุฃู ุงุฎุชุจุงุฑุงุช ูุงุดูุฉ
3. ุงูุชุฃูุฏ ูู ุฃู ุฌููุน ุงูุตูุญุงุช ุงูู 11 ูุงุจูุฉ ูููุตูู

---

## 3) Evidence Structure โ ูู ูุชู ุฅูุดุงุคู ูุนููุงู

### โ ูุง ุชู ุฅูุฌุงุฒู:
- โ ููุฏ ูู `pages.spec.ts` ูุฅูุดุงุก ุงูุฃุฏูุฉ
- โ ูููู ุงููุฌูุฏุงุช ูุญุฏูุฏ ูู ุงูููุฏ

### โ ูุง ูู ูุชู ุฅูุฌุงุฒู:
- โ **ุฅูุดุงุก ูุฌูุฏุงุช Evidence ูุนููุงู**:
  ```
  frontend/evidence/<YYYY-MM-DD>/
    โโโ logs/
    โโโ screens/
    โโโ network/
  ```
- โ **ููุทุงุช ุงูุดุงุดุฉ**: ูู ูุชู ุงูุชูุงุท ุฃู screenshot
- โ **ูููุงุช HAR**: ูู ูุชู ุฅูุดุงุก ุฃู ููู HAR
- โ **ูููุงุช Logs**: ูู ูุชู ุฅูุดุงุก `health.json` ุฃู `pages-discovered.json`

**ุงููุทููุจ**:
1. ุชุดุบูู ุงุฎุชุจุงุฑุงุช E2E ูุชูููุฏ ุงูุฃุฏูุฉ ุชููุงุฆูุงู
2. ุฃู ุฅูุดุงุก ุงููุฌูุฏุงุช ูุฏููุงู ูููุกูุง ุจุงูุจูุงูุงุช ุงููุทููุจุฉ

**ุงูุฃูุฑ ููุชูููุฐ**:
```bash
cd frontend
npm run e2e  # ุณูููุดุฆ ุงูุฃุฏูุฉ ุชููุงุฆูุงู ุฅุฐุง ุชู ุชุดุบูู ุงูุงุฎุชุจุงุฑุงุช
```

---

## 4) ุงุฎุชุจุงุฑุงุช ุงููุญุฏุฉ โ ูู ูุชู ุชุดุบูููุง

### โ ูุง ุชู ุฅูุฌุงุฒู:
- โ ุฅูุดุงุก `src/app/page.test.tsx`

### โ ูุง ูู ูุชู ุฅูุฌุงุฒู:
- โ **ุชุดุบูู ุงูุงุฎุชุจุงุฑ ูุนููุงู**:
  ```bash
  npm run test -- src/app/page.test.tsx  # ูุดู
  ```
- โ **ุฅุตูุงุญ ุงูุฎุทุฃ**: `__vite_ssr_import_7__.default.map is not a function`
- โ **ุงูุชุญูู ูู ุฃู Manifest ููุญููู ุจุดูู ุตุญูุญ**

**ุงููุดููุฉ**:
```
TypeError: __vite_ssr_import_7__.default.map is not a function
at Home (src/app/page.tsx:148:23)
```

**ุงูุณุจุจ ุงููุญุชูู**:
- `pagesManifest` ูุง ููุญููู ูู array ุจุดูู ุตุญูุญ
- ุฃู import statement ุฎุงุทุฆ

**ุงููุทููุจ**:
1. ูุญุต `src/app/page.tsx` ู `src/config/pages.manifest.json`
2. ุฅุตูุงุญ ุทุฑููุฉ ุงุณุชูุฑุงุฏ Manifest
3. ุงูุชุฃูุฏ ูู ุฃู Manifest ููุณุชุฎุฏู ุจุดูู ุตุญูุญ ูู ุงููููุจูููุช

---

## 5) Build ููุฅูุชุงุฌ โ ูุง ูุฒุงู ููุดู

### โ ุงูุญุงูุฉ ุงูุญุงููุฉ:
```bash
npm run build  # ููุดู ุจุณุจุจ ุฃุฎุทุงุก TypeScript
```

### โ ูุง ุชู ุฅูุฌุงุฒู:
- โ ุฅุถุงูุฉ `cross-env` ููุชูุงูู ูุน Windows
- โ ุฅุตูุงุญ ูุนุธู ุฃุฎุทุงุก TypeScript ูู AI layer

### โ ูุง ูู ูุชู ุฅูุฌุงุฒู:
- โ **ุจูุงุก ูุงุฌุญ ุจุฏูู ุฃุฎุทุงุก**
- โ **ุงูุชุญูู ูู Production build**

**ุงููุทููุจ**:
1. ุฅุตูุงุญ ุฌููุน ุฃุฎุทุงุก TypeScript ุงููุชุจููุฉ
2. ุงูุชุฃูุฏ ูู ุฃู `npm run build` ููุฌุญ ุจุงููุงูู
3. ุงุฎุชุจุงุฑ ุงูุจูุงุก ูู ุจูุฆุฉ ูุธููุฉ

---

## 6) CI/CD โ ูู ูุชู ุงุฎุชุจุงุฑู

### โ ูุง ุชู ุฅูุฌุงุฒู:
- โ ุชุญุฏูุซ scripts ูู `package.json`
- โ ุฅุถุงูุฉ `ci` script

### โ ูุง ูู ูุชู ุฅูุฌุงุฒู:
- โ **ุชุดุบูู CI script ูุนููุงู**:
  ```bash
  npm run ci  # ูู ูุชู ุงูุชูููุฐ
  ```
- โ **ุงูุชุญูู ูู Pre-push hooks** (Husky)
- โ **ุงุฎุชุจุงุฑ CI ูู ุจูุฆุฉ ูุนููุฉ**

**ุงููุทููุจ**:
1. ุชุดุบูู `npm run ci` ูุงูุชุญูู ูู ุงููุชุงุฆุฌ
2. ุฅุนุฏุงุฏ Husky hooks (ุฅู ูู ุชูู ููุฌูุฏุฉ)
3. ุงุฎุชุจุงุฑ pre-push hooks

---

## 7) ุงูุชูุซูู ูุงูุฃุฏูุฉ โ ุบูุฑ ููุชูู

### โ ูุง ุชู ุฅูุฌุงุฒู:
- โ ุฅูุดุงุก `RUN_REPORT_CURRENT.md`
- โ ุชูุซูู ุงูููุงู ุงูููุฌุฒุฉ

### โ ูุง ูู ูุชู ุฅูุฌุงุฒู:
- โ **ุชุญุฏูุซ RUN_REPORT ุจุงููุชุงุฆุฌ ุงููุนููุฉ**:
  - ูุชุงุฆุฌ Build
  - ูุชุงุฆุฌ E2E
  - ูุชุงุฆุฌ Unit Tests
- โ **ุฅุถุงูุฉ ุฑูุงุจุท ููุฃุฏูุฉ** (screenshots, HAR files)
- โ **ุชุญุฏูุซ ุญุงูุฉ "ุฌุงูุฒูุฉ ุงูุฏูุฌ"** ุจูุงุกู ุนูู ุงููุชุงุฆุฌ ุงููุนููุฉ

---

## 8) ุงูุงุนุชูุงุฏุงุช ูุงูุชุจุนูุงุช

### โ ูุง ุชู ุฅูุฌุงุฒู:
- โ ุชุซุจูุช `sonner`
- โ ุชุซุจูุช `cross-env`

### โ๏ธ ูุง ูุญุชุงุฌ ุฅูู ุชุญูู:
- โ๏ธ **ุฌููุน ุงูุชุจุนูุงุช ูุซุจุชุฉ ุจุดูู ุตุญูุญ**
- โ๏ธ **ูุง ุชูุฌุฏ ุชุจุนูุงุช ููููุฏุฉ**

---

## ูุงุฆูุฉ ุงูุฃููููุงุช ููุฅููุงู

### ๐ด ุฃููููุฉ ุนุงููุฉ (ูุฌุจ ุฅููุงููุง ูุจู ุงูุฏูุฌ):

1. **ุฅุตูุงุญ ููุน GeminiService ูู BaseStation**
   - ุงูููู: `src/lib/ai/core/base-station.ts`
   - ุงูููุช ุงูููุฏุฑ: 15 ุฏูููุฉ

2. **ุฅุตูุงุญ Build ููุฅูุชุงุฌ**
   - ุงููููุงุช: ุฌููุน ูููุงุช AI layer
   - ุงูููุช ุงูููุฏุฑ: 30-60 ุฏูููุฉ

3. **ุฅุตูุงุญ Unit Test ููุตูุญุฉ ุงูุฑุฆูุณูุฉ**
   - ุงูููู: `src/app/page.test.tsx` ู `src/app/page.tsx`
   - ุงูููุช ุงูููุฏุฑ: 20 ุฏูููุฉ

### ๐ ุฃููููุฉ ูุชูุณุทุฉ (ูููุตุญ ุจุฅููุงููุง):

4. **ุชุดุบูู ุงุฎุชุจุงุฑุงุช E2E ูุฅูุดุงุก ุงูุฃุฏูุฉ**
   - ุงูุฃูุงูุฑ: `npm run e2e`
   - ุงูููุช ุงูููุฏุฑ: 10-15 ุฏูููุฉ

5. **ุชุดุบูู CI script ูุงูุชุญูู ูู ุงููุชุงุฆุฌ**
   - ุงูุฃูุงูุฑ: `npm run ci`
   - ุงูููุช ุงูููุฏุฑ: 5 ุฏูุงุฆู

### ๐ข ุฃููููุฉ ููุฎูุถุฉ (ุงุฎุชูุงุฑู):

6. **ุชุญุฏูุซ RUN_REPORT ุจุงููุชุงุฆุฌ ุงููุนููุฉ**
   - ุงูููุช ุงูููุฏุฑ: 15 ุฏูููุฉ

---

## ุฎุทูุงุช ุงูุฅููุงู ุงูุณุฑูุนุฉ

### ุงูุฎุทูุฉ 1: ุฅุตูุงุญ GeminiService Type
```typescript
// ูู base-station.ts
import { getGeminiService } from "../gemini-service";
import type { GeminiService } from "../gemini-service"; // ุงุณุชุฎุฏุงู ููุณ ุงูููุน
```

### ุงูุฎุทูุฉ 2: ุฅุตูุงุญ Unit Test
```typescript
// ูู page.tsx - ุงูุชุฃูุฏ ูู ุฃู Manifest ููุญููู ุจุดูู ุตุญูุญ
import pagesManifest from "../config/pages.manifest.json";
// ุงูุชุฃูุฏ ูู ุฃู pagesManifest.pages ููุฌูุฏ ููู array
```

### ุงูุฎุทูุฉ 3: ุชุดุบูู ุงูุงุฎุชุจุงุฑุงุช
```bash
# 1. ุฅุตูุงุญ Build
npm run build

# 2. ุชุดุบูู Unit Tests
npm run test

# 3. ุชุดุบูู E2E
npm run e2e

# 4. ุชุดุบูู CI
npm run ci
```

### ุงูุฎุทูุฉ 4: ุงูุชุญูู ูู ุงูุฃุฏูุฉ
```bash
# ุงูุชุญูู ูู ูุฌูุฏ:
frontend/evidence/<DATE>/
  โโโ logs/
  โ   โโโ health.json
  โ   โโโ pages-discovered.json
  โโโ screens/
  โ   โโโ *.png (11 ููุทุฉ)
  โโโ network/
      โโโ *.har (11 ููู)
```

---

## ุงูููุฎุต ุงูููุงุฆู

### โ ูุง ุชู ุฅูุฌุงุฒู ุจูุฌุงุญ:
- ุฅูุดุงุก Zod schemas ูุฃููุงุน TypeScript
- ุฅูุดุงุก Boundary modules
- ุฅูุดุงุก ุงุฎุชุจุงุฑุงุช E2E (ุงูููุฏ)
- ุชุญุฏูุซ CI scripts
- ุฅูุดุงุก RUN_REPORT

### โ ูุง ูุญุชุงุฌ ุฅูู ุฅููุงู:
- **ุฅุตูุงุญ Build**: ููุน GeminiService + ุฃุฎุทุงุก ุฃุฎุฑู
- **ุชุดุบูู ุงูุงุฎุชุจุงุฑุงุช**: E2E + Unit Tests
- **ุฅูุดุงุก ุงูุฃุฏูุฉ**: Evidence structure ูุนูู
- **ุงูุชุญูู ุงูููุงุฆู**: CI + Build + Tests

### โฑ๏ธ ุงูููุช ุงูููุฏุฑ ููุฅููุงู:
**45-90 ุฏูููุฉ** ูุฅููุงู ุฌููุน ุงูููุงู ุงููุชุจููุฉ

---

**ุชุงุฑูุฎ ุงูุชูุฑูุฑ**: 2025-01-15  
**ุงูุญุงูุฉ ุงูุฅุฌูุงููุฉ**: โ๏ธ 70% ููุชูู โ ูุญุชุงุฌ ุฅูู ุฅููุงู ูุจู ุงูุฏูุฌ ุงูููุงุฆู

