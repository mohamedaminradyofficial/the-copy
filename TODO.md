توجيه وكيل الترميز: دمج تطبيق "directors-studio" كتطبيق فرعي منفصل تحت المسار المحدد
الهدف: نقل/ترجمة ودمج المشروع الموجود في /home/user/the-copy/directors-studio/directors-studio إلى تطبيق فرعي مستقل داخل الشجرة الحالية تحت المسار /home/user/the-copy/frontend/src/app/(main)/directors-studio مع الالتزام الكامل ببنية، أنماط، روتينج، إدارة حالة، Tokens، وRTL المعتمدين في المشروع الرئيسي. عند وجود اختلافات بنيوية في المشروع المصدر، قم بتطبيعها تلقائياً إلى القواعد القياسية للمشروع الهدف.

1. نطاق العمل (ملخص سريع)
إنشاء مجلد التطبيق الفرعي: frontend/src/app/(main)/directors-studio

ترحيل كل الملفات المصدرية (components, ui, hooks, lib, pages, assets, server/shared ما يلزم داخل حدود الواجهة الأمامية) وتحويل البنية لتتطابق مع قواعد المشروع الرئيسي

تكامل بالروتينغ الرئيسي، الإكسس عبر /directors-studio، وتضمين في الـlayout والـnavigation

ضمان توافق التصميم (Tokens، CSS/Tailwind، RTL افتراضية) وإعادة استخدام مكتبة المكونات المشتركة

تشغيل اختبارات سريعة وبناء محلي وتقديم PR جاهز للمراجعة

2. محاور العمل التفصيلية (قائمة TODO توجيهية لوكيل الترميز)
تهيئة نقطة دخول التطبيق الفرعي

أنشئ المجلد: frontend/src/app/(main)/directors-studio

أنشئ ملف الصفحة الرئيسي: page.tsx أو index.tsx طبقاً لروتينج المشروع (Next.js App Router => page.tsx)

ضع صفحة placeholder بسيطة تقوم بتحميل المكونات الأساسية بعد الترحيل.

ترحيل شجرة الملفات والمكونات

انسخ المجلدات: client/src/components، client/src/hooks، client/src/lib، client/src/pages (مقترنة) إلى داخل directors-studio مع المحافظة على الهيكل: components, components/ui, hooks, lib, pages.

أعد تسمية/إعادة ترتيب المجلدات إن لزم لتتبع الترقيم والأسماء المعتمدة (dirnames بكـebab-case، Components بـPascalCase).

نقل assets: attached_assets/generated_images → frontend/static/ أوالمسار المعتمد لموارد الاستاتيك في المشروع؛ حدّث المسارات داخل الكود.

تطبيع بنية الكود والتصدير/الاستيراد

حل كل الاستيرادات النسبية ومواءمتها لمسار التطبيق الفرعي الجديد (استبدال ../.. الخ بما يناسب).

استبدال/مواءمة أي استيراد لمكتبات مخصّصة (مثلاً components.json أو تصميمات محلية) لا تتوافق — استخدم المكونات الداخلية الموحدة للمشروع.

تأكد أن جميع المكونات تستخدم PascalCase، وأن ملفات الصفحات تتبع قواعد التسمية للمشروع.

تكييف نظام الروتينغ (Routing)

إن كان المشروع يستخدم Next.js App Router: ضمّن صفحة الـroute داخل frontend/src/app/(main)/directors-studio/page.tsx مع ملفات route-specific (e.g., /scenes => frontend/src/app/(main)/directors-studio/scenes/page.tsx) عند الحاجة.

إن كان المشروع SPA بReact Router: أنشئ صفحة مرجعية في مسارات الراوتر الرئيسي واربطها بالمسار /directors-studio.

أضف روابط التنقل في ملف الـlayout أو الـsidebar المركزي ليتظهر التطبيق ضمن القوائم الحالية.

التوافق مع التصميم والـTokens

استعمل نفس ملف Tokens/Theme (الألوان، الفراغات، الظلال، الخطوط، transitions) من المشروع الرئيسي.

اعمل override إن لزم داخل ملف tailwind.config.ts أو theme provider المستخدم.

فعّل RTL افتراضياً داخل هذا التطبيق الفرعي (wrap root بمقدّم اتجاه RTL أو استخدم الـdir="rtl" حسب النظام).

إدارة الحالة والمزامنة مع البنية المعتمدة

إذا كان المشروع الرئيسي يستخدم store مشتركة (context, Zustand, Redux, أو react-query): عدّل hooks/lib لتستخدم نفس آلية الحالة.

استبدل أي آلية محلية (مثلاً local store منفصل) بواجهات التوافق أو وصلها عبر adapters إن لزم.

حقن الـqueryClient أو providers اللازمة في مستوى التطبيق الفرعي أو اعتمد providers المركزيين إن كانوا متاحين.

المكونات المشتركة وإعادة الاستخدام

تأكد من استدعاء المكونات المشتركة (Palette, Export, Upload, Inspector، إلخ) من المكتبة المشتركة للمشروع بدلاً من نسخ مكرّر.

إن احتاجت مكونات المشروع الجديد لتعديلات طفيفة لتطابق النظام، قم بإنشاء wrappers محلية داخل components/ui لتطبيق الفروق فقط.

RTL والLocalization

فعّل RTL افتراضياً داخل التطبيق الفرعي، مع مدخلات للغات مستقبلية.

احفظ أي نص عربي/انجليزي في ملفات i18n / static-source المتبعة بالمشروع، ولا تترك سلاسل نصية مضمّنة داخل JSX.

اختبارات وتجميع محلي

شغّل build محلي (yarn/npm build) وتأكد من عدم وجود أخطاء TypeScript أو Vite/Next config.

نفّذ أي اختبارات وحدة/تكامل قائمة أو شغّل smoke tests يدوياً: تصفّح الصفحات، التأكد من الروتينغ، تحميل الصور والـassets.

سجل أي تحذيرات متعلقة بالـbundle size أو استيراد غير مستخدم.

تنظيف وتهيئة PR

احذف أي ملفات dev-only أو تكوينات Replit غير مطلوبة في الواجهة الأمامية.

أنشئ فرع Git جديد: feature/integrate-directors-studio

جهّز PR يتضمن: وصف التغييرات، نقاط التحقق (checklist)، أي تغييرات config (tailwind, tsconfig, vite/next) وتأثيرها، وخطوات التشغيل محلياً.

3. قواعد التطبيع والأولويات عند وجود تعارضات
لا تُدرج أنماط تصميم أو معماريات جديدة. إذا كان مصدر التطبيق يستخدم نمط مختلف، قم بتحويله إلى:

نفس الـRouting المستخدم بالمشروع الرئيسي.

نفس نظام إدارة الحالة.

نفس التسمية للمكونات والمجلدات.

استخدام Tokens والـTheme المركزيين.

عند تعارض أسماء أو نسخ متكررة للمكونات المشتركة: الأفضلية لمكتبة المركزية؛ احتفظ بwrappers محلية إن لزم لتوافق API.

اجعل RTL افتراضيًا داخل هذا التطبيق الفرعي دون تغيير سلوك بقية الموقع.

4. قائمة تحقق (Checklist جاهز للتوقيع قبل إغلاق المهمة)
[ ] مجلد frontend/src/app/(main)/directors-studio مُنشأ والملفات الأساسية توجد فيه

[ ] كل المكونات/hooks/lib المنقولة وتطبيع الاستيرادات

[ ] استبدال/إعادة استخدام المكونات المشتركة للمشروع

[ ] الصور والـassets في المسار المعتمد في المشروع وتُحمّل بنجاح

[ ] صفحة route تعمل عند /directors-studio وتظهر في الـnavigation

[ ] RTL مفعل افتراضياً داخل المجلد الفرعي

[ ] TypeScript خالي من أخطاء، وbuild ناجح محلياً

[ ] Provider للمحافظة على حالة التطبيق مدمج بشكل صحيح

[ ] تغييرات التكوين (tailwind, tsconfig, vite/next) موثقة وموجودة في PR

[ ] فرع Git وPR جاهز مع وصف وتوجيهات المراجعة

5. مخرجات متوقعة من الوكيل بعد التنفيذ (مطلوبة في الرد/الـPR)
قائمة الملفات/المجلدات الجديدة ضمن frontend/src/app/(main)/directors-studio مع ملاحظة عن أي ملفات تم تعديلها في المستودع المركزي

ملخّص التعديلات في ملفات التكوين (tailwind.config.ts, tsconfig.json, vite.config.ts أو next.config.js)

سجل اختبارات بسيطة ونتيجة build (نجاح/فشل) + أهم التحذيرات إن وجدت

رابط/مرجع فرع Git وPR (عنوان + وصف مختصر) أو مخرجات commit إن لم يكن نظام Git متاحاً

6. ملاحظات تنفيذية قصيرة للمطور
اعمل بخطوات صغيرة: ترحيل هيكل المجلدات أولاً → ضبط الاستيرادات → تكييف القيم الـTheme → تصحيح الأخطاء ثم build نهائي.

عند أي اعتماد خارجي غير موجود في المشروع الرئيسي، ضعه كـpeer-dependency أو استبدله بالمكوّن المعتمد.

حافظ على التوثيق داخل README الفرعي ضمن directors-studio يشرح نقاط التكامل والاختلاف المهمة.